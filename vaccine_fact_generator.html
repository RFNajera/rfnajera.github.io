<html lang="en">

<head>
  <link rel="icon" href="assets/images/favicon.ico" type="image/x-icon">
  <meta property="og:title" content="Vaccine Fact Generator" />
  <meta property="og:description" content="Generate a referenced vaccine fact and share it with the world." />
  <meta property="og:image" content="https://rfnajera.github.io/assets/images/vaccine_facts_image.jpg" />
  <meta property="og:url" content="https://rfnajera.github.io/vaccine_fact_generator.html" />
  <meta property="og:type" content="website" />
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-8YF8SGD4HY"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'G-8YF8SGD4HY');
  </script>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Vaccine Fact Generator</title>
  <link rel="stylesheet" href="https://unpkg.com/papercss@1.4.0/dist/paper.min.css">
  <style>
    header {
      padding: 1em;
      background-color: #ffff80;
      margin-top: 1em;
      text-align: center;
    }

    .quote {
      font-size: clamp(1.5em, 2.5vw, 3em);
    }

    .btn-large {
      margin: 0.5em;
    }

    .card {
      text-align: center;
      width: 100%;
      max-width: 45em;
    }

    .new-quote-button {
      background-color: #8cff66;
    }

    .share-button {
      background-color: #b3e0ff;
    }

    @media (max-width: 700px) {
      h1 {
        font-size: 45px;
      }

      #newQuoteSection {
        font-size: 35px;
      }
    }
  </style>
</head>

<body>
  <div class="container">
    <div class="row flex-top flex-center">
      <header class="border shadow">
        <h1>Vaccine Fact Generator</h1>
        <small>v0.9.1 (Last Updated 3JAN2025)</small>
      </header>
    </div>
    <div class="row flex-center" style="width: 80%;">
      <main class="card">
        <p class="quote card-body center" id="newQuoteSection">Click on "New Fact" to get a new fact!</p>
      </main>
    </div>
    <div class="row flex-center">
      <button id="newQuoteButton" class="btn-large new-quote-button" onClick="getQuote()" aria-label="Generate a new vaccine fact">New Fact</button>
      <button id="shareButton" class="btn-large share-button" onClick="shareQuote()" aria-label="Share this fact">Share This!</button>
      <button class="btn-large" onClick="copyToClipboard(document.getElementById('newQuoteSection').innerHTML)" aria-label="Copy fact to clipboard">Copy to Clipboard</button>
    </div>
    <div class="row flex-bottom flex-center">
      <div class="card" style="width: 20rem;">
        <div class="card-body">
          <h4 class="card-title">The Vaccine Fact Generator</h4>
          <p class="card-text">Brought to you by Ren√© F. Najera, DrPH.</br>Based on code by Jay.</p>
          <a class="card-link" href="https://twitter.com/epiren">@Epiren</a><br>
          <a class="card-link" href="https://twitter.com/mrjaypeasmith">@MrJayPeaSmith</a><br>
        </div>
      </div>
    </div>
  </div>

  <script>
    // Quotes
    let quotes = [
      "Immunization prevents 3.5-5 million deaths every year from diseases like diphtheria, tetanus, pertussis, influenza, and measles.",
      "Global immunization efforts have saved 154 million lives over the past 50 years.",
      "Measles vaccination alone has saved nearly 94 million lives since 1974.",
      "Vaccination has enabled more than 20 million people to walk today who would otherwise have been paralyzed by polio."
    ];

    function getQuote() {
      var randomNumber = Math.floor(Math.random() * quotes.length);
      document.getElementById('newQuoteSection').innerHTML = quotes[randomNumber];
      gtag('event', 'generate_fact', { event_category: 'interaction', event_label: 'New Fact' });
    }

    function shareQuote() {
      const generatedQuote = document.getElementById('newQuoteSection').innerHTML;
      if (navigator.share) {
        navigator.share({
          title: 'Vaccine Fact:',
          text: generatedQuote
        }).then(() => {
          console.log('Thanks for sharing!');
        }).catch((error) => {
          console.error('Error sharing:', error);
        });
      } else {
        alert('Your browser does not support sharing. Please copy and paste the fact manually.');
      }
      gtag('event', 'share_fact', { event_category: 'interaction', event_label: 'Share Fact' });
    }

    function copyToClipboard(text) {
      navigator.clipboard.writeText(text).then(() => {
        alert('Fact copied to clipboard!');
      }).catch((error) => {
        console.error('Failed to copy:', error);
      });
    }
  </script>
</body>

</html>
